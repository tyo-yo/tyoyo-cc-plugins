# copy-last-message

Claude Code の Stop フックプラグイン。セッション終了時に、最後のアシスタントメッセージを自動的にクリップボードにコピーします。

## 機能

- セッション終了時にトランスクリプトから最後のアシスタントメッセージを抽出
- macOS (`pbcopy`)、Linux (`xclip` / `xsel`)、WSL (`clip.exe`) に対応

## 前提条件

- [Bun](https://bun.sh/) がインストールされていること
- クリップボードコマンドが利用可能であること（macOS では標準搭載）

## インストール

Claude Code の設定でプラグインを有効化してください。

## 仕組み

1. Claude Code セッションが終了すると Stop フックが発火
2. トランスクリプトファイルを後方から走査し、最後のアシスタントメッセージを検出
3. OS に応じたクリップボードコマンドでメッセージをコピー
